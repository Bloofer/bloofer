{% extends "board.html" %}

{% block posts %}
  {% for md_post in md_posts %}
  <div class="row">
      <div class="col-lg-12">
          {{ md_post|safe }}
      <div id="disqus_thread"></div>
      <script>
/*
      var disqus_config = function () {
      this.page.url = "jmyang.kr/board";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = {{ md_post }}; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };
*/
      (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://jmyang-kr.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
     </div>
  </div>
  <hr>
  {% endfor %}
{% endblock %}

{% block paging %}
  {% if (((page_num-1) // 5) + 1) < page_n  %}

    {% if page_num <= 5 %}
      <li>
        <a href="#">&laquo;</a>
      </li>
    {% else %}
      <li>
        <a href="/board/{{ ((page_num-1) // 5) * 5 }}">&laquo;</a>
      </li>
    {% endif %}

    {% for p in range( (((page_num-1)//5)*5)+1, (((page_num-1)//5)*5)+6 ) %}
      {% if p == page_num %}
        <li class="active">
          <a href="#">{{ p }}</a>
        </li>
      {% else %}
        <li>
          <a href="/board/{{ p }}">{{ p }}</a>
        </li>
      {% endif %}
    {% endfor %}

    {% if pages > ((((page_num-1)//5)+1)*5) %}
      <li>
        <a href="/board/{{ ((((page_num-1)//5)+1)*5)+1 }}">&raquo;</a>
      </li>
    {% else %}
      <li>
        <a href="#">&raquo;</a>
      </li>
    {% endif %}

  {% else %}

    {% if page_num <= 5 %}
      <li>
        <a href="#">&laquo;</a>
      </li>
    {% else %}
      <li>
        <a href="/board/{{ ((page_num-1) // 5) * 5 }}">&laquo;</a>
      </li>
    {% endif %}

    {% for p in range( (((page_num-1)//5)*5)+1, pages+1 ) %}
      {% if p == page_num %}
        <li class="active">
          <a href="#">{{ p }}</a>
        </li>
      {% else %}
        <li>
          <a href="/board/{{ p }}">{{ p }}</a>
        </li>
      {% endif %}
    {% endfor %}

    <li>
      <a href="#">&raquo;</a>
    </li>

  {% endif %}
{% endblock %}
~
